!function(){function e(){document.querySelectorAll(".ac-indicator, .ac-panel").forEach((e=>e.remove()));const e=document.querySelector("#ac-styles");e&&e.remove()}e();const a=document.createDocumentFragment(),t=document.querySelectorAll("input, select, textarea"),n={valid:[],invalid:[],missing:[]},i={empty:"Empty value",controlChars:"Invalid: autocomplete value cannot contain control characters",htmlChars:"Invalid: autocomplete value cannot contain HTML special characters",lineBreaks:"Invalid: autocomplete value cannot contain line breaks",leadingSpace:"Invalid: leading or trailing spaces are not allowed",startHyphen:"Invalid: autocomplete value cannot start with a hyphen"},o={spaceInPrefix:'Invalid: no space allowed in "section-" prefix (format must be "section-" immediately followed by value)',doubleHyphen:'Invalid: section prefix must have exactly one hyphen (format must be "section-")',emptyValue:"Invalid: section prefix must be followed by a value (section-billing, section-shipping, etc.)",badPrefix:'Invalid: section prefix must be exactly "section-"',missingHyphen:"Invalid: section prefix must include a hyphen (section-)",quotes:"Invalid: section name cannot contain quotes",nonAscii:"Invalid: section name must contain only ASCII characters",multipleSections:"Invalid: multiple section-* prefixes are not allowed",wrongPlace:"Invalid: section-* prefix must be at the start of the autocomplete attribute",noSpaceAfterHyphen:'Invalid: "section-" must be immediately followed by a value (no spaces after the hyphen)'},s={missing:"Autocomplete attribute recommended",notValidToken:e=>`Invalid: "${e}" is not a valid autocomplete token`,onOffAlone:"'on' and 'off' must be used alone",validValue:"Valid value",validCanonical:e=>`Valid value (canonical form: ${e.toLowerCase()})`,validSection:"Valid section",validSectionCanonical:e=>`Valid section (canonical form: ${e.toLowerCase()})`,validCombined:"Valid combined value",validCombinedCanonical:e=>`Valid combined value (canonical form: ${e.toLowerCase()})`,extraWhitespace:e=>`Valid but contains extra whitespace (canonical form: ${e})`,invalidFieldName:e=>`Invalid: "${e}" is not a valid field name`,mustFollowField:e=>`Invalid: "${e}" must be followed by a valid field name`,sectionNeedsField:e=>`Invalid: "${e}" section must be followed by a valid field (name, address, etc.)`,addressOnly:e=>`Invalid: ${e} can only be combined with address or contact information`},l={panelTitle:"detectAutocomplete",total:e=>`Total: ${e}`,valid:e=>`Valid: ${e}`,invalid:e=>`Invalid: ${e}`,missing:e=>`Missing: ${e}`,escapeHint:"Use <kbd>Esc</kbd> to close panel",exportInfo:"Export a CSV file containing the results of the accessibility analysis: a list of tested items, error types found, and suggested fixes."},d={hideDisplay:"Hide/Display",close:"Close",darkLight:"Dark/Light",export:"Export to CSV",screenReaderLabels:{indicators:" autocomplete indicators",panel:" the panel and remove all indicators",mode:" mode toggle",results:" the autocomplete audit results"}},r={valid:"Valid",invalid:"Invalid",missing:"autocomplete missing",combined:e=>`(Combined: ${e.join(" + ")})`,autocompletePrefix:e=>`autocomplete="${e}"`},c={header:"Tag,Name,Type,Autocomplete,Status,Validation Message,Data Details,Value",noName:"no-name",noType:"no-type",empty:"empty",noDetails:"No details",filename:e=>`autocomplete-audit-${e.toISOString().slice(0,10)}.csv`,missingAttribute:"Missing autocomplete attribute"},p=document.createElement("style");p.textContent="\n    .ac-panel {\n      position: fixed;\n      top: 10px;\n      left: 10px;\n      background: #fff;\n      padding: 15px;\n      border-radius: 5px;\n      box-shadow: 0 0 10px rgba(0, 0, 0, .2);\n      z-index: 99999;\n      max-width: 250px;\n      font-family: -apple-system, system-ui, sans-serif;\n    }\n    #ac-panel-title {\n      font-size: 1.5em;\n    }\n    .ac-stats {\n      margin: 10px 0;\n      padding: 10px;\n      background: #f5f5f5;\n      border-radius: 3px;\n    }\n    .ac-stats p {\n      margin: 5px 0;\n    }\n    .ac-indicator {\n      background-color: #ff0;\n      color: #000;\n      display: block;\n      max-inline-size: fit-content;\n      padding: 2px 5px;\n      margin-top: 2px;\n      border-radius: 3px;\n      font-size: 15px;\n      font-family: monospace;\n      font-weight: bold;\n      transition: .2s;\n    }\n    .ac-valid {\n      background-color: #cfc;\n      border-left: 4px solid #4caf50;\n    }\n    .ac-invalid {\n      background-color: #fcc;\n      border-left: 4px solid #f44336;\n    }\n    .ac-missing {\n      background-color: #ffc;\n      border-left: 4px solid #ff9800;\n    }\n    .ac-hidden {\n      display: none;\n    }\n    .ac-footer {\n      display: flex;\n      flex-direction: column;\n    }\n    .ac-btn {\n      margin: 5px;\n      padding: 5px 10px;\n      border: none;\n      border-radius: 3px;\n      background: #0d6efd;\n      color: #fff;\n      cursor: pointer;\n    }\n    .ac-btn:focus {\n      outline: 2px solid #0d6efd;\n      outline-offset: 2px;\n      box-shadow: 0 0 10px rgba(13, 110, 253, 0.25);\n    }\n    @media (forced-colors: active) {\n      .ac-btn:focus {\n        outline: 3px solid #000;\n        outline-offset: 3px;\n      }\n    }\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(-8px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n    @media (prefers-reduced-motion: no-preference) {\n      .ac-panel {\n        animation: fadeIn 0.5s ease-out;\n      }\n      .ac-indicator {\n        animation: fadeIn 0.3s ease-out;\n      }\n    }\n    @media (prefers-color-scheme: dark) {\n      .ac-panel {\n        background: #1e1e1e;\n        color: #f0f0f0;\n      }\n      .ac-stats {\n        background: #2c2c2c;\n      }\n      .ac-valid {\n        background-color: #4caf50;\n        border-left-color: #cfc;\n      }\n      .ac-invalid {\n        background-color: #f44336;\n        border-left-color: #fcc;\n      }\n      .ac-missing {\n        background-color: #ff9800;\n        border-left-color: #ffc;\n      }\n    }\n    body.ac-dark .ac-panel {\n      background: #1e1e1e;\n      color: #eee;\n    }\n    body.ac-dark .ac-stats {\n      background: #2c2c2c;\n    }\n    body.ac-dark .ac-valid {\n      background-color: #4caf50;\n      border-left-color: #cfc;\n    }\n    body.ac-dark .ac-invalid {\n      background-color: #f44336;\n      border-left-color: #fcc;\n    }\n    body.ac-dark .ac-missing {\n      background-color: #ff9800;\n      border-left-color: #ffc;\n    }\n    .visually-hidden {\n      border: 0 !important;\n      clip: rect(1px, 1px, 1px, 1px) !important;\n      -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n      height: 1px !important;\n      margin: -1px !important;\n      overflow: hidden !important;\n      padding: 0 !important;\n      position: absolute !important;\n      width: 1px !important;\n      white-space: nowrap !important;\n    }\n  ",a.appendChild(p);const m=new Map([["on",{category:"general",description:"Enable autocomplete",validation:"standalone"}],["off",{category:"general",description:"Disable autocomplete",validation:"standalone"}],["name",{category:"names",description:"Full name",validation:"standard"}],["given-name",{category:"names",description:"First name",validation:"standard"}],["additional-name",{category:"names",description:"Middle name",validation:"standard"}],["family-name",{category:"names",description:"Last name",validation:"standard"}],["honorific-prefix",{category:"names",description:"Title prefix (Mr., Dr., etc.)",validation:"standard"}],["honorific-suffix",{category:"names",description:"Title suffix (Jr., PhD, etc.)",validation:"standard"}],["nickname",{category:"names",description:"Nickname",validation:"standard"}],["email",{category:"contact",description:"Email address",validation:"standard"}],["tel",{category:"contact",description:"Phone number",validation:"standard"}],["url",{category:"contact",description:"Website URL",validation:"standard"}],["impp",{category:"contact",description:"Instant messaging URL",validation:"standard"}],["street-address",{category:"address",description:"Street address",validation:"standard"}],["address-line1",{category:"address",description:"Address line 1",validation:"standard"}],["address-line2",{category:"address",description:"Address line 2",validation:"standard"}],["address-line3",{category:"address",description:"Address line 3",validation:"standard"}],["address-level1",{category:"address",description:"State/Province",validation:"standard"}],["address-level2",{category:"address",description:"City",validation:"standard"}],["address-level3",{category:"address",description:"District",validation:"standard"}],["address-level4",{category:"address",description:"Neighborhood",validation:"standard"}],["country",{category:"address",description:"Country code",validation:"standard"}],["country-name",{category:"address",description:"Country name",validation:"standard"}],["postal-code",{category:"address",description:"Postal/ZIP code",validation:"standard"}],["cc-name",{category:"payment",description:"Full name on card",validation:"sensitive"}],["cc-given-name",{category:"payment",description:"First name on card",validation:"sensitive"}],["cc-additional-name",{category:"payment",description:"Middle name on card",validation:"sensitive"}],["cc-family-name",{category:"payment",description:"Last name on card",validation:"sensitive"}],["cc-number",{category:"payment",description:"Card number",validation:"sensitive"}],["cc-exp",{category:"payment",description:"Expiration date",validation:"sensitive"}],["cc-exp-month",{category:"payment",description:"Expiration month",validation:"sensitive"}],["cc-exp-year",{category:"payment",description:"Expiration year",validation:"sensitive"}],["cc-csc",{category:"payment",description:"Security code",validation:"sensitive"}],["cc-type",{category:"payment",description:"Card type",validation:"sensitive"}],["transaction-currency",{category:"payment",description:"Transaction currency",validation:"sensitive"}],["transaction-amount",{category:"payment",description:"Transaction amount",validation:"sensitive"}],["bday",{category:"personal",description:"Full birthday",validation:"standard"}],["bday-day",{category:"personal",description:"Birthday day",validation:"standard"}],["bday-month",{category:"personal",description:"Birthday month",validation:"standard"}],["bday-year",{category:"personal",description:"Birthday year",validation:"standard"}],["sex",{category:"personal",description:"Biological sex",validation:"standard"}],["organization",{category:"personal",description:"Company name",validation:"standard"}],["organization-title",{category:"personal",description:"Job title",validation:"standard"}],["language",{category:"personal",description:"Preferred language",validation:"standard"}],["photo",{category:"personal",description:"Photo URL",validation:"standard"}],["username",{category:"credentials",description:"Username",validation:"sensitive"}],["new-password",{category:"credentials",description:"New password",validation:"sensitive"}],["current-password",{category:"credentials",description:"Current password",validation:"sensitive"}],["one-time-code",{category:"credentials",description:"One-time code",validation:"sensitive"}],["tel-country-code",{category:"phone",description:"Country code",validation:"standard"}],["tel-national",{category:"phone",description:"National number",validation:"standard"}],["tel-area-code",{category:"phone",description:"Area code",validation:"standard"}],["tel-local",{category:"phone",description:"Local number",validation:"standard"}],["tel-local-prefix",{category:"phone",description:"First part of local number",validation:"standard"}],["tel-local-suffix",{category:"phone",description:"Last part of local number",validation:"standard"}],["tel-extension",{category:"phone",description:"Extension number",validation:"standard"}]]),u=new Map([["shipping",{type:"address-contact-only",description:"Shipping address or contact information only",validFields:new Set(["name","given-name","additional-name","family-name","honorific-prefix","honorific-suffix","street-address","address-line1","address-line2","address-line3","address-level1","address-level2","address-level3","address-level4","country","country-name","postal-code","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email"])}],["billing",{type:"address-contact-only",description:"Billing address or contact information only",validFields:new Set(["name","given-name","additional-name","family-name","honorific-prefix","honorific-suffix","street-address","address-line1","address-line2","address-line3","address-level1","address-level2","address-level3","address-level4","country","country-name","postal-code","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email"])}],["home",{validFields:new Set(["tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"])}],["work",{validFields:new Set(["tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"])}],["mobile",{validFields:new Set(["tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension"])}],["fax",{validFields:new Set(["tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension"])}],["pager",{validFields:new Set(["tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension"])}]]);function f(e){return/[ ]{2,}|\t/.test(e)}function g(e,a){const t=m.has(e);return{isValid:t,message:t?a?s.validCanonical(e):s.validValue:s.notValidToken(e)}}function v(e){const a=function(e){const a=[{test:!e,message:i.empty},{test:/[\x00-\x1F\x7F]/.test(e),message:i.controlChars},{test:/[<>&]|&lt;|&gt;|&amp;/.test(e),message:i.htmlChars},{test:/[\n\r]/.test(e),message:i.lineBreaks},{test:e.trim()!==e,message:i.leadingSpace},{test:e.startsWith("-"),message:i.startHyphen}].find((e=>e.test));return a?{isValid:!1,message:a.message}:{isValid:!0}}(e);if(!a.isValid)return a;const t=e!==e.toLowerCase(),n=e.toLowerCase().split(/[ \t]+/).filter(Boolean),l=n[0];if(["on","off"].includes(l))return{isValid:1===n.length,message:n.length>1?s.onOffAlone:t?s.validCanonical(e):s.validValue};if(e.includes("section")){const a=function(e){const a=e.toLowerCase(),t=a.split(/\s+/),n=[{pattern:/section [- ]/,message:o.spaceInPrefix},{pattern:/section--/,message:o.doubleHyphen},{pattern:/section-(\s|$)/,message:o.emptyValue}];for(const e of n)if(e.pattern.test(a))return{isValid:!1,message:e.message};return a.includes("section-")&&!a.startsWith("section-")?{isValid:!1,message:o.wrongPlace,suggestion:`section-${e.replace(/section-/i,"").trim()}`}:t.filter((e=>e.startsWith("section-"))).length>1?{isValid:!1,message:o.multipleSections}:t.find((e=>e.startsWith("section")&&e.includes("-")&&!e.startsWith("section-")||e.match(/section[a-z]+-/)))?{isValid:!1,message:o.badPrefix,suggestion:e.replace(/section[a-z]*-?/,"section-")}:t[0].includes('"')||t[0].includes("'")?{isValid:!1,message:o.quotes}:(i=t[0],/[^\x00-\x7F]/.test(i)?{isValid:!1,message:o.nonAscii}:{isValid:!0,originalValue:e,hasExtraWhitespace:f(e)});var i}(e);if(!a.isValid)return a;if(n[0].startsWith("section-")){const i=n[n.length-1],o=g(i,t);return{isValid:n.length>=2&&o.isValid,message:n.length<2?s.mustFollowField(n[0]):o.isValid?a.hasExtraWhitespace?s.extraWhitespace(n.join(" ")):t?s.validSectionCanonical(e):s.validSection:s.invalidFieldName(i)}}}if(u.has(l)){const a=u.get(l),i=n[n.length-1],o=n.length>=2&&a.validFields.has(i);return{isValid:o,message:n.length<2?s.sectionNeedsField(l):o?t?s.validCombinedCanonical(e):s.validCombined:s.addressOnly(l)}}return g(l,t)}t.forEach((function(e){if(e.hasAttribute("autocomplete")){v(e.getAttribute("autocomplete")).isValid?n.valid.push(e):n.invalid.push(e)}else n.missing.push(e)}));const y=document.createElement("div");function b(){const e=c.header+"\n"+Array.from(t).map((e=>{const a=e.getAttribute("autocomplete")||"missing",t="missing"!==a?v(a):{isValid:!1,message:c.missingAttribute},n=t.isValid?r.valid:r.invalid,i=e.nextElementSibling,o=i&&i.classList.contains("ac-indicator")?(i.getAttribute("data-details")||"").replace(/,/g,";"):c.noDetails;return[e.tagName.toLowerCase(),e.name||c.noName,e.type||c.noType,a,n,t.message.replace(/,/g,";"),o,e.value||c.empty].join(",")})).join("\n"),a=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8"}),n=URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=c.filename(new Date),i.click(),URL.revokeObjectURL(n)}y.className="ac-panel",y.setAttribute("role","dialog"),y.setAttribute("aria-modal","true"),y.setAttribute("aria-labelledby","ac-panel-title"),y.innerHTML=`\n  <p id="ac-panel-title">${l.panelTitle}</p>\n  <div class="ac-stats">\n    <p>${l.total(t.length)}</p>\n    <p>${l.valid(n.valid.length)}</p>\n    <p>${l.invalid(n.invalid.length)}</p>\n    <p>${l.missing(n.missing.length)}</p>\n  </div>\n  <div class="ac-footer">\n    <button class="ac-btn" id="ac-toggle">\n      ${d.hideDisplay}\n      <span class="visually-hidden">${d.screenReaderLabels.indicators}</span>\n    </button>\n    <button class="ac-btn" id="ac-cleanup">\n      ${d.close}\n      <span class="visually-hidden">${d.screenReaderLabels.panel}</span>\n    </button>\n    <button class="ac-btn" id="ac-theme">\n      ${d.darkLight}\n      <span class="visually-hidden">${d.screenReaderLabels.mode}</span>\n    </button>\n    <button class="ac-btn" id="ac-export" aria-describedby="exportInfo">\n      ${d.export}\n      <span class="visually-hidden">${d.screenReaderLabels.results}</span>\n    </button>\n  </div>\n  <p id="exportInfo" class="visually-hidden">\n    ${l.exportInfo}\n  </p>\n  <p>\n    <small>${l.escapeHint}</small>\n  </p>\n  `,a.appendChild(y),requestAnimationFrame((()=>{t.forEach((function(e){const a=document.createElement("p");if(a.className="ac-indicator",e.hasAttribute("autocomplete")){const t=e.getAttribute("autocomplete"),n=v(t),i=t.toLowerCase().split(" ").filter(Boolean),o=document.createElement("span");o.textContent=r.autocompletePrefix(t);const s=document.createElement("span");s.setAttribute("role",n.isValid?"status":"alert"),s.textContent=n.isValid?` ${r.valid}`:` ${r.invalid}`,i.length>1&&(s.textContent+=` ${r.combined(i)}`),a.appendChild(o),a.appendChild(s),a.setAttribute("data-details",n.message),a.className+=n.isValid?" ac-valid":" ac-invalid"}else a.textContent=r.missing,a.className+=" ac-missing",a.setAttribute("data-details",s.missing);e.parentNode.insertBefore(a,e.nextSibling)}))})),requestAnimationFrame((()=>{document.body.insertBefore(a,document.body.firstChild);const t=document.querySelector(".ac-panel");if(t){const a=t.querySelector("button");a&&a.focus(),t.addEventListener("keydown",(a=>{"Escape"===a.key&&(e(),document.activeElement?.blur())}))}let n=!0,i=!1;const o=document.getElementById("ac-toggle");o&&(o.setAttribute("aria-pressed","true"),o.addEventListener("click",(()=>{n=!n,o.setAttribute("aria-pressed",n?"true":"false"),requestAnimationFrame((()=>{document.querySelectorAll(".ac-indicator").forEach((e=>e.classList.toggle("ac-hidden")))}))})));const s=document.getElementById("ac-theme");s&&(s.setAttribute("aria-pressed","false"),s.addEventListener("click",(()=>{i=!i,s.setAttribute("aria-pressed",i?"true":"false"),requestAnimationFrame((()=>{document.body.classList.toggle("ac-dark")}))})));const l=document.getElementById("ac-export");l&&l.addEventListener("click",b);const d=document.getElementById("ac-cleanup");d&&d.addEventListener("click",e)}))}();